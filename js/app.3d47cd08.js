(function(n){function e(e){for(var r,i,c=e[0],u=e[1],p=e[2],l=0,v=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&v.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);s&&s(e);while(v.length)v.shift()();return o.push.apply(o,p||[]),t()}function t(){for(var n,e=0;e<o.length;e++){for(var t=o[e],r=!0,c=1;c<t.length;c++){var u=t[c];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),n=i(i.s=t[0]))}return n}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=n,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(t,r,function(e){return n[e]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var s=u;o.push([0,"chunk-vendors"]),t()})({0:function(n,e,t){n.exports=t("56d7")},"034f":function(n,e,t){"use strict";t("85ec")},"56d7":function(n,e,t){"use strict";t.r(e);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"province-list"}},n._l(n.getProvinceNames(n.provinceData),(function(e){return t("div",{key:e,staticClass:"province-wrapper"},[t("Province",{attrs:{provinceData:n.getProvince(e,n.provinceData)}})],1)})),0)])},o=[],i=(t("4de4"),t("a630"),t("d81d"),t("b0c0"),t("d3b7"),t("6062"),t("3ca3"),t("ddb0"),function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"province"},[t("h2",[n._v(n._s(n.provinceName(n.provinceData)))]),t("p",[n._v("doses administered: "),t("b",[n._v(n._s(n.dosesAdministered(n.provinceData)))])]),t("p",[n._v("average administration rate over last two weeks: "),t("b",[n._v(n._s(n.averageAdministrationRate(n.provinceData,14))+" doses per day")])]),t("h3",[n._v("based on the two doses per person")]),t("p",[n._v("doses remaining for 100% vaccination: "),t("b",[n._v(n._s(n.dosesRemaining(n.provinceData,100)))])]),t("p",[n._v("doses remaining for 80% vaccination: "),t("b",[n._v(n._s(n.dosesRemaining(n.provinceData,80)))])]),t("h3",[n._v("based on the two week rolling average")]),t("p",[n._v("time left to vaccinate the whole province: "),t("b",[n._v(n._s(n.timeLeft(n.provinceData,100)))])]),t("p",[n._v("time left to vaccinate 80% (herd immunity?): "),t("b",[n._v(n._s(n.timeLeft(n.provinceData,80)))])]),t("hr")])}),c=[];t("a15b"),t("13d5"),t("fb6a");function u(n){return n[0].population}function p(n){return n.slice().sort((function(n){return n.dateParsed})).pop().cumulativeVaccination}function s(n,e){return 2*u(n)*e/100-p(n)}function l(n,e){var t=n.slice().sort((function(n){return n.dateParsed})).slice(-e).reduce((function(n,e){return n+e.vaccinatedOnDay}),0);return t/e}function v(n){return n.toLocaleString(void 0,{maximumFractionDigits:0})}var f={name:"Province",props:["provinceData"],methods:{provinceName:function(n){return n[0].name},dosesAdministered:function(n){return v(p(n))},dosesRemaining:function(n,e){return v(s(n,e))},averageAdministrationRate:function(n,e){return v(l(n,e))},timeLeft:function(n,e){var t=s(n,e),r=l(n,14),a=t/r,o=a/365-.5,i=a%365/30-.5,c=a%365%30/7-.5,u=a%365%30%7-.5,p=[];return o>=1&&p.push("".concat(v(o)," years")),i>=1&&p.push("".concat(v(i)," months")),c>=1&&p.push("".concat(v(c)," weeks")),u>=1&&p.push("".concat(v(u)," days")),p.join(", ")}}},d=f,m=t("2877"),h=Object(m["a"])(d,i,c,!1,null,null,null),b=h.exports,_={name:"App",components:{Province:b},props:["provinceData"],methods:{getProvinceNames:function(n){return Array.from(new Set(n.map((function(n){return n.name}))))},getProvince:function(n,e){return e.filter((function(e){return e.name===n}))}}},g=_,w=(t("034f"),Object(m["a"])(g,a,o,!1,null,null,null)),y=w.exports,O=(t("99af"),t("7db0"),t("ac1f"),t("1276"),t("2909")),P=[{name:"Alberta",population:4428112},{name:"BC",population:5145851},{name:"Manitoba",population:1379584},{name:"NL",population:520998},{name:"NWT",population:45074},{name:"New Brunswick",population:781315},{name:"Nova Scotia",population:979115},{name:"Nunavut",population:39285},{name:"Ontario",population:14733119},{name:"PEI",population:159713},{name:"Quebec",population:8575779},{name:"Saskatchewan",population:1177884},{name:"Yukon",population:42176}],D=P;function j(){return fetch("https://raw.githubusercontent.com/ccodwg/Covid19Canada/master/timeseries_prov/vaccine_administration_timeseries_prov.csv").then((function(n){return n.text()})).then((function(n){return n.split("\n").slice(1,-1).map((function(n){return n.split(",")})).map((function(n){return n.map((function(n){return JSON.parse(n)}))})).reduce((function(n,e){var t=e[0],r=D.find((function(n){return n.name===t})).population,a=e[1],o=a.split("-").reverse().join("-"),i=Date.parse(o),c={name:t,population:r,dateRaw:a,dateParsed:i,vaccinatedOnDay:e[2],cumulativeVaccination:e[3]};return[].concat(Object(O["a"])(n),[c])}),[])}))}r["a"].config.productionTip=!1,j().then((function(n){new r["a"]({render:function(e){return e(y,{props:{provinceData:n}})}}).$mount("#app")}))},"85ec":function(n,e,t){}});
//# sourceMappingURL=app.3d47cd08.js.map